<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            text-align: center;
            line-height: 3em;
            display: flex;
            background-color: #000;
            width: 800px;
            height: 300px;
        }

        #left {
            margin-left: 50px;
            padding-right: 30px;
            border-right: solid 1px #fff;
        }

        #right {
            margin-left: 100px;
            position: relative;
        }

        h1 {
            color: #fff;
        }

        #height {
            font-size: 20px;
        }

        #weight {
            font-size: 20px;
        }

        .title {
            font-size: 20px;
            color: #000;
        }

        #subBtn {
            width: 180px;
            height: 50px;
            background-color: #1C5679;
            color: #fff;
            border: none;
            cursor: pointer;
            border-radius: 50px;
            margin-top: 50px;
        }

        #subBtn:hover {
            background-color: #7A989A;
            color: #000;
            font-weight: bolder;
            border-radius: 50px;
        }

        #cleBtn {
            width: 180px;
            height: 50px;
            background-color: #fff;
            color: #000;
            border: solid 1px #1C5679;
            cursor: pointer;
            border-radius: 50px;
        }

        #cleBtn:hover {
            background-color: #BBB592;
            color: #fff;
            font-weight: bolder;
            border: none;
            border-radius: 50px;
        }

        #intPage {
            background-color: #CAC3B2;
            width: 400px;
            height: 300px;
        }

        #resPage {
            font-size: 20px;
            color: #000;
            background-color: #CAC3B2;
            position: absolute;
            width: 400px;
            height: 300px;
            top: 0px;
        }

        #reCal {
            font-size: 16px;
            width: 180px;
            height: 50px;
            background-color: #1C5679;
            color: #fff;
            border: none;
            cursor: pointer;
            border-radius: 50px;
        }

        #reCal:hover {
            background-color: #7A989A;
            color: #000;
            font-weight: bolder;
            border-radius: 50px;
        }
    </style>
    <script>
        function calBMI() {
            //抓取輸入值
            const hElement = document.getElementById('height');
            const h = hElement.value;
            const wElement = document.getElementById('weight');
            const w = wElement.value;
            //計算bmi
            var bmi = (w / ((h / 100) ** 2)).toFixed(2);
            var ad = "";
            //防呆
            if (h <0) {
                alert ('Height cannot be negative! Please try again!');
                document.getElementById("form").reset();
            }
            if (w <0) {
                alert ('Weight cannot be negative! Please try again!');
                document.getElementById("form").reset();
            }
            //檢查bmi級距
            if (bmi < 18.5) {
                ad = "Underweight (Unhealthy)!";
            }
            else if (bmi >= 18.5 && bmi < 24) {
                ad = "in Normal range (Healthy)!";
            }
            else if (bmi >= 24 && bmi < 27) {
                ad = "Overweight (At risk)!";
            }
            else if (bmi >= 27 && bmi < 30) {
                ad = "Obese (Moderately obese)!";
            }
            else if (bmi >= 30 && bmi < 35) {
                ad = "Obese (Extremely obese)!!";
            }
            else if (bmi >= 35) {
                ad = "Obese (Severely obese)!!!";
            }
            //輸出計算結果
            var bmiResult = document.getElementById("bmiText");
            bmiResult.innerHTML = "Your BMI is " + bmi;

            var adResult = document.getElementById("adText");
            adResult.innerHTML = "You are " + ad ;
            //顯示結果內容
            document.querySelector("#resPage").style.visibility = "visible";
        }
        //清空表單
        function cleData() {
            document.getElementById("form").reset();
        }

        //返回計算頁(隱藏計算結果)
        function reCal() {
            document.querySelector("#resPage").style.visibility = "hidden";
            //清空表單
            document.getElementById("form").reset();
        }

        function  s (){  var box = document.getElementById('box');
var opacity = 1;
var clock = setInterval(function() {
 opacity = opacity-0.1;
 if (opacity >= 0) {
 box.style.opacity = opacity;
 } else {
 clearInterval(clock);
 }
}, 500);}

    </script>
</head>

<body>
    <div id="left">
        <h1>BMI Calculator & <br>Body Advice</h1>
    </div>
    <div id="right">
        <div id="intPage">
            <form name="form" id="form">
                <span class="title">Height (cm)：</span>
                <input type="text" name="height" id="height" /><br>
                <span class="title">Weight (kg)：</span>
                <input type="text" name="weight" id="weight" /><br>
                <input type="button" name="submit" value="Get Result" id="subBtn" onclick="calBMI()" ; />
                <input type="button" name="submit" value="Clear" id="cleBtn" onclick="cleData();" />
            </form>
        </div>
        <div id="resPage" style="visibility:hidden; float: left;">
            <p id="bmiText">123</p>
            <p id="adText">123</p>
            <input type="button" name="reset" value="Calculate again!" id="reCal" onclick="reCal()" ; />
        </div>
    </div>
</body>

</html>



//計算業及結果頁切換
function showhidediv(id) {
    var age = document.getElementById("intPage");
    var name = document.getElementById("resPage");
    if (id == 'name') {
        if (name.style.display == 'none') {
            age.style.display = 'none';
            name.style.display = 'block';
        }
    }
    else {
        if (age.style.display == 'none') {
            name.style.display = 'none';
            age.style.display = 'block';
        }
    }
}