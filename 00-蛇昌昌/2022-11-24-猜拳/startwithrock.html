<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        #start-sence .hidden{
            display: none;
        }



    </style>
</head>
<body>
    <div id="start-sence">
        <div class="title">
            你好我是鎖鏈康尼, 沒想到你能到這呢
        </div>
        <button id="start-btn" onclick="startplay()">開始遊戲</button>
    </div>
    <div id="fight-sence">
        <div class="enemy">
            <img src="enemy.png" alt="">
            <p>阿拉花瓜三世</p>
            <div class="blood-frame">
                <div id="enemy-blood"></div>
            </div>
        </div>
        <div class="player">
            <img src="player.png" alt="">
            <p>大流逝九世</p>
            <div class="blood-frame">
                <div id="player-blood"></div>
            </div>
        </div>

        <div class="fight">
            <button onclick="fight(0)">剪刀</button>
            <button onclick="fight(1)">石頭</button>
            <button onclick="fight(2)">布</button>
        </div>
    </div>
    <div id="end-sence">
        <div class="title">
           你戰勝/敗, 再來一次?
        </div>
        <button id="retry-btn">回標題畫面</button>
    </div>

    <script>
        const startSence = document.querySelector('.start-sence')
        const fightSence = document.querySelector('.fight-sence')
        const endSence = document.querySelector('.end-sence')
        const playerBlood = document.querySelector('#player-blood')
        const enemyBlood = document.querySelector('#enemy-blood')
        let playerHP = 100;
        let enemyHP = 100;

        function startplay(){
            // 方法1
            // startSence.style.display = 'none'
            // 方法2
            // startSence.classList.add('hidden')
            // fightSence.classList.remove('hidden')

        
        }


        function fight(choice){
            // 亂數產生對手出的拳, 0 = 剪刀, 1 = 石頭, 2 = 布
            let enemy = Math.floor(Math.random()*3)

            // 判斷誰輸誰贏
            let result  // 0 = 平手, 1 = 玩家贏, 2 = 電腦贏
            if (choice == enemy){ //相同 == 平手
                result = 0 
            }else if((choice == 0 && enemy == 2) || (choice == 1 && enemy == 0) || (choice == 2 && enemy == 1)){ // 我贏
                result = 1
            }else{  //我輸
                result = 2
            }

            //扣血的判斷
            if( result == 1){
                enemyHP = enemyHP - 20;
                enemyBlood.style.width = enemyHP+'%'
            }else if (result == 2){
                playerHP = playerHP - 20;
                playerBlood.style.width = playerHP+'%'
            }

            //遊戲是否結束
            if (enemyHP == 0){
                title.innerHTML = '你勝利了'
                fightSence.classList.add('hidden')
                endSence.classList.remove('hidden')

            }else if(playerHP == 0){
                title.innerHTML = '你戰敗了'
                fightSence.classList.add('hidden')
                endSence.classList.remove('hidden')
            }
            
        }

        function reset(){
            endSence.classList.add('hidden')
            startSence.classList.remove('hidden')
            playerHP = 100;
            enemyHP = 100;
        }





    </script>










</body>
</html>